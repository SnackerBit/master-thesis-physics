First order optimization algorihms like Gradient Descent and Conjugate Gradients use the gradient of the cost function to update the search direction at each iteration. In the case of the Stiefel manifold and the cost function \eqref{eq:Optimization_cost_function_definition}, we first define the matrix of partial derivatives $D \in \mathbb{C}^{n\times p}$ of $f$ at $X\in\Stiefel$ by
\begin{equation}
	\label{eq:Optimization_partial_derivative}
	D_{ij} \coloneqq \left.\frac{\partial f}{\partial \Re\left(X_{ij}\right)}\right|_{X} + \iu \left.\frac{\partial f}{\partial \Im\left(X_{ij}\right)}\right|_{X}.
\end{equation}
With this definition, the directional derivative $\text{D}f(X)[Z]$ at $X\in\Stiefel$ in direction $Z\in\mathbb{C}^{n\times p}$ is simply given by an inner product of $D$ with the direction $Z$, using the Riemannian metric \eqref{eq:Stiefel_manifold_riemannian_metric}:
\begin{equation}
	\label{eq:riemannian_optimization_directional_derivative_partial_derivatives}
	\begin{split}
		g_X(D, Z) &= \Re\Tr\left(D^\dagger Z\right) = \Re\sum_{ij} D_{ij}^*Z_{ij} \\
		&= \sum_{ij} \left(\left.\frac{\partial f}{\partial \Re\left(X_{ij}\right)}\right|_{X}\Re Z_{ij} + \left.\frac{\partial f}{\partial \Im\left(X_{ij}\right)}\right|_{X} \Im Z_{ij}\right) \\
		&\eqqcolon \text{D}f(X)[Z].
	\end{split}
\end{equation}
With this we can now define the gradient $\nabla f(X)$ of $f$ at $X\in\Stiefel$ as the projection of the partial derivative matrix \eqref{eq:Optimization_partial_derivative} to the tangent space \cite{cite:optimization_on_matrix_manifolds, cite:riemannian_optimization_isometric_tensor_networks}:
\begin{equation}
	\label{eq:riemannian_optimization_gradient_of_cost_function}
	\nabla f(X) \coloneqq P_X D = D - \frac{1}{2}X\left(X^\dagger D + D^\dagger X\right),
\end{equation}
where we used the projection \eqref{eq:Stiefel_manifold_project_to_tangent_space}. \par
After a search direction $\xi$ has been computed, we would like to update the iterate $X$ as $X^\prime = X + \alpha\xi$ with a given step size $\alpha\in\mathbb{R}$. However, in this case the next iterate $X^\prime$ is not guaranteed to remain in the manifold. For this reason it is convenient to define the notion of a \textit{retraction}. A retraction is a function
\begin{equation}
	R_\xi : \mathbb{R} \rightarrow \Stiefel, \quad \alpha \mapsto R_\xi(\alpha),
\end{equation}
that satisfies $R_\xi(0) = X$ and $\left.\frac{\text{d}R_\xi(\alpha)}{\text{d}\alpha}\right|_{\alpha=0} = \xi$. One can think of the retraction as moving in the direction of $\xi$ while staying on the manifold. There exist different possible retractions for the Stiefel manifold. A contraction that is particularly easy to compute and yields good results in practice is the retraction
\begin{equation}
	R_\xi{\alpha} = qf(X+\alpha\xi),
\end{equation}
where $\qf(A)$ denotes the $Q$-factor of the QR-decomposition $A = QR$. \par
Some Optimization algorithms, for example Conjugate Gradients, additionally use the search directions from previous iterations for computing the next search direction. In Riemannian optimization algorithms, these search directions must first be transported from the tangent space of the previous iterate to the tangent space of the current iterate. This can be performed by using a \textit{vector transport} \cite{cite:optimization_on_matrix_manifolds}. Let $\xi_k\in T_{X_k} \Stiefel$ be the search direction for the iterate $X_k \in\Stiefel$, and let $X_{k+1}\in\Stiefel$ be the next iterate. The vector transport $T_{k\rightarrow k+1}$ is then a function
\begin{equation}
	\label{eq:vector transport}
	T_{k\rightarrow k+1} : T_{X_k} \Stiefel \rightarrow T_{X_{k+1}} \Stiefel, \quad \xi_k \mapsto T_{k\rightarrow k+1}(\xi_k).
\end{equation}
For Riemannian submanifolds of Euclidean vector spaces, a simple vector transport is given by the projection onto the current tangent space \cite{cite:optimization_on_matrix_manifolds},
\begin{equation}
	\label{eq:vector_transport_stiefel_manifold}
	T_{k\rightarrow k+1}(\xi_k) = P_{X_{k+1}}\xi_k,
\end{equation}
where we used the projection \eqref{eq:Stiefel_manifold_project_to_tangent_space}.